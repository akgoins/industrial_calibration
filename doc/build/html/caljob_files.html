

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Calibration Job Files &mdash; industrial_calibration 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="industrial_calibration 0.1 documentation" href="index.html"/>
        <link rel="up" title="Calibration Files" href="calibration_files.html"/>
        <link rel="prev" title="Calibration Target Files" href="target_files.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  
  <script src="_static/js/clipboard.min.js"></script>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home">
        

          <br/>

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Test Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_examples.html">Calibration Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_libraries.html">Calibration Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_nodes.html">Calibration Nodes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="calibration_files.html">Calibration YAML Files</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="camera_files.html">Camera Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="target_files.html">Target Files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Calibration Job Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cost-functions">Cost Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">industrial_calibration</a>
      </nav>

      
      <div class="wy-nav-content">

        <div class="header-override">
          <a href="http://rosindustrial.org">
            <img src="_static/logo.jpg"/>
          </a>
          <p>
            <a href="http://rosindustrial.org">ROS-Industrial Website</a>|<a href="http://rosindustrial.org/news">Blog</a>
          </p>
        </div>

        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="_sources/caljob_files.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="calibration_files.html">Calibration Files</a> &raquo;</li>
      
    <li>Calibration Job Files</li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             <div class="admonition note">
               <p class="first admonition-title">The code used in this tutorial is available!</p>
               <p class="last">Code can be found at <a href = "https://github.com/ros-industrial/industrial_training">industrial_training repository</a> in gh_pages folder. Use  branch.</p>
             </div>

            
  <div class="section" id="calibration-job-files">
<h1>Calibration Job Files<a class="headerlink" href="#calibration-job-files" title="Permalink to this headline">¶</a></h1>
<p>The calibration job file is what brings together both the camera and target file to define what pictures are to be taken in order to complete the calibration process.  This file can be as simple as one picture if performing calibration using one camera and one calibration target, or it could be quite lengthy if there are multiple cameras and multiple images that must be taken.</p>
<p>Here is an example calibration job file:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="l l-Scalar l-Scalar-Plain">reference_frame</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">some_name</span>
<span class="l l-Scalar l-Scalar-Plain">scenes</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span>
     <span class="l l-Scalar l-Scalar-Plain">scene_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
     <span class="l l-Scalar l-Scalar-Plain">trigger_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
     <span class="l l-Scalar l-Scalar-Plain">observations</span><span class="p p-Indicator">:</span> 
     <span class="p p-Indicator">-</span>
          <span class="l l-Scalar l-Scalar-Plain">camera</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">camera_name</span>
          <span class="l l-Scalar l-Scalar-Plain">target</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">target_name</span>
          <span class="l l-Scalar l-Scalar-Plain">roi_x_min</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
          <span class="l l-Scalar l-Scalar-Plain">roi_x_max</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">600</span>
          <span class="l l-Scalar l-Scalar-Plain">roi_y_min</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
          <span class="l l-Scalar l-Scalar-Plain">roi_y_max</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">430</span>
<span class="p p-Indicator">-</span>
     <span class="l l-Scalar l-Scalar-Plain">scene_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
     <span class="l l-Scalar l-Scalar-Plain">trigger_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
     <span class="l l-Scalar l-Scalar-Plain">observations</span><span class="p p-Indicator">:</span>
     <span class="p p-Indicator">-</span>
          <span class="l l-Scalar l-Scalar-Plain">camera</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">camera_name</span>
</pre></div>
</div>
<p>A calibration job can consist of many different scenes, and one or more observations per scene.
A calibration job must have at least one scene and each scene must have at least one observation.</p>
<blockquote>
<div><ul class="simple">
<li>scene -</li>
<li>scene_id - Each scene must have a scene ID. IDs must start at zero and increment by one everytime a new scene is created</li>
<li>trigger -</li>
<li>trigger_action_server - If performing calibration with a robot, this is the ROS MoveIt! action server used to move the robot</li>
<li>joint_values - If performing calibration with a robot, this is the set of joint values which are used to
command the robot to the desired position before acquiring the image.</li>
<li>observation -</li>
<li>camera - the name of the camera to take a picture from, the name must be one which was defined in the
camera calibration file.</li>
<li>target - the name of the target to look for in the image, the name must be one which was defined in the
target calibration file.</li>
<li>roi_x/y_min/max - The region of interest to find the target in.  This is useful if there are multiple
targets visible in the scene or there are objects in the background which may cause interference when trying to
find the calibration target.</li>
<li>cost_type - The cost function to use when adding the observation</li>
</ul>
</div></blockquote>
<div class="section" id="cost-functions">
<h2>Cost Functions<a class="headerlink" href="#cost-functions" title="Permalink to this headline">¶</a></h2>
<p>The cost function is used to define what parameters are fixed and what parameters are being optimized.  If intrinsic calibration is being
performed, then the fixed parameters are the target observations (points with respect to each other) and the parameters being optimized are
the camera intrinsics (focal length, center point, distortion).  If extrinsic calibration is being performed, then the fixed parameters are
the camera intrinsics a the parameters being optimized are the camera location (x,y,z,r,p,y).</p>
<dl class="docutils">
<dt>Here are a list of all of the currently available cost functions.  These may be added to if a new use case is found, so this list may not be always up to date:</dt>
<dd><ul class="first last simple">
<li>cameraPntResidualDist</li>
<li>projectPntNoDistortion</li>
<li>cameraCircResidualDist</li>
<li>cameraCircResidual</li>
<li>cameraPntResidual</li>
<li>cameraReprjErrorWithDistortion</li>
<li>CameraReprjErrorWithDistortionPK</li>
<li>CameraReprjError</li>
<li>TriangulationError</li>
<li>CameraReprjErrorPK</li>
<li>TargetCameraReprjError</li>
<li>TargetCameraReprjErrorPK</li>
<li>LinkTargetCameraReprjError</li>
<li>LinkTargetCameraReprjErrorPK</li>
<li>PosedTargetCameraReprjErrorPK</li>
<li>LinkCameraTargetReprjError</li>
<li>LinkCameraTargetReprjErrorPK</li>
<li>CircleCameraReprjErrorWithDistortion</li>
<li>CircleCameraReprjErrorWithDistortionPK</li>
<li>CircleCameraReprjError</li>
<li>CircleCameraReprjErrorPK</li>
<li>FixedCircleTargetCameraReprjErrorWithDistortion</li>
<li>FixedCircleTargetCameraReprjErrorWithDistortionPK</li>
<li>CircleTargetCameraReprjErrorWithDistortion</li>
<li>SimpleCircleTargetCameraReprjErrorWithDistortionPK</li>
<li>CircleTargetCameraReprjErrorWithDistortionPK</li>
<li>CircleTargetCameraReprjError</li>
<li>CircleTargetCameraReprjErrorPK</li>
<li>LinkCircleTargetCameraReprjError</li>
<li>LinkCircleTargetCameraReprjErrorPK</li>
<li>LinkCameraCircleTargetReprjError</li>
<li>LinkCameraCircleTargetReprjErrorPK</li>
<li>FixedCircleTargetCameraReprjErrorPK</li>
<li>RailICal</li>
<li>LinkRangeCameraTargetReprjErrorPK</li>
</ul>
</dd>
</dl>
</div>
</div>


            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="target_files.html" class="btn btn-neutral" title="Calibration Target Files" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div class="footer-override">
    <a href="http://rosindustrial.org/ric">
      <img src="_static/footer.jpg"/>
    </a>
  </div>

  <div role="contentinfo">
    <p>
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>
        </div>
      </div>

    </section>

  </div>
  <script>
  var pre = document.getElementsByTagName('pre');
  for (var i = 0; i < pre.length; i++) {
    var button = document.createElement('button');
    button.className = 'btn-copyboard fa fa-copy btn';
    pre[i].before(button);
  }

  var clipboard = new Clipboard('.btn-copyboard', {
    target: function(trigger) {return trigger.nextElementSibling;}
  });

  function showSuccess(elem){elem.setAttribute('class','btn-copyboard fa fa-check btn');}
  function sleep (time) {
    return new Promise((resolve) => setTimeout(resolve, time));
  }
  clipboard.on('success',function(e){
    showSuccess(e.trigger);
    sleep(350).then(() => {e.clearSelection();
      e.trigger.setAttribute('class','btn-copyboard fa fa-copy btn');})
  });
  </script>

  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>