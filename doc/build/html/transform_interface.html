

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Calibration Transform Interface &mdash; industrial_calibration 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="industrial_calibration 0.1 documentation" href="index.html"/>
        <link rel="up" title="Calibration Files" href="calibration_files.html"/>
        <link rel="next" title="Trigger Types" href="trigger_type.html"/>
        <link rel="prev" title="Calibration Job Files" href="caljob_files.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  
  <script src="_static/js/clipboard.min.js"></script>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home">
        

          <br/>

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Test Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_examples.html">Calibration Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_libraries.html">Calibration Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_nodes.html">Calibration Nodes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="calibration_files.html">Calibration YAML Files</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="camera_files.html">Camera Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="target_files.html">Target Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="caljob_files.html">Calibration Job Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="caljob_files.html#cost-functions">Cost Functions</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Transform Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger_type.html">Trigger Types</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">industrial_calibration</a>
      </nav>

      
      <div class="wy-nav-content">

        <div class="header-override">
          <a href="http://rosindustrial.org">
            <img src="_static/logo.jpg"/>
          </a>
          <p>
            <a href="http://rosindustrial.org">ROS-Industrial Website</a>|<a href="http://rosindustrial.org/news">Blog</a>
          </p>
        </div>

        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="_sources/transform_interface.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="calibration_files.html">Calibration Files</a> &raquo;</li>
      
    <li>Calibration Transform Interface</li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             <div class="admonition note">
               <p class="first admonition-title">The code used in this tutorial is available!</p>
               <p class="last">Code can be found at <a href = "https://github.com/ros-industrial/industrial_training">industrial_training repository</a> in gh_pages folder. Use  branch.</p>
             </div>

            
  <div class="section" id="calibration-transform-interface">
<span id="transforminterface"></span><h1>Calibration Transform Interface<a class="headerlink" href="#calibration-transform-interface" title="Permalink to this headline">¶</a></h1>
<p>The transform interface is the method that is used to either lookup or update the transforms
that are used for calibration and ususally only applies to extrinsic calibration.  Several different
transform interfaces are provided, but not all of them currently have a use case.</p>
<p>Transform interface determines how the frame is looked up and whether the new calibration results should be pushed or not.</p>
<blockquote>
<div><ul class="simple">
<li>ros_lti - ROSListenerTransInterface: performs a TF lookup, final calibration results will not be pushed back to the mutable joint state publisher (if available).  This is used primarily if a transform is needed for calibration (i.e. a fixed calibration target) but the transform is already known or is calibrated by some other means.  For example if a calibration target position is found by touching off using a robot tool tip and the transform is manually entered into the URDF, then a listener transform interface can be used to look up the transform when trying to calibrate a camera since the target transform has already been calibrated and fixed.</li>
<li>ros_bti - ROSBroadcastTransInterface: publishes a transform pose to the TF topic.  This is used when you want to have some quick feedback on the location of a transform.  For example, if this interface is used when calibrating a target, the current target transform will be published.  This interface should not be used if the TF frames already are being published by another node or if the frames exist in the URDF as they will be published by the robot state publisher.</li>
<li>ros_camera_lti - ROSCameraListenerTransInterface: This is functionally the same as the ros_lti interface</li>
<li>ros_camera_bti - ROSCameraBroadcastTransInterface: This is functionally the same as the ros_bti interface except that the resulting calibrated transform is inverted before being pushed.  This is used for cameras since the calibration target points must be transformed into the camera’s frame of reference (T camera-&gt;world * T world-&gt;target) but the transform that is published is inverted (T world-&gt;camera).</li>
<li>ros_camera_housing_lti - ROSCameraHousingListenerTInterface:  This is similar to the ros_lti except that it allows having a fixed translation/rotation after the transform being optimized.  This used used in the case that there is a camera/device which one or more lenses which are not located at the base frame of the device.  For example, the ASUS and Kinect have two cameras (rgb and ir) which have a fixed, known offset from the camera housing base.  The calibration job needs to calibrate the transform for the base of the camera, however, the image data is being published in their respective camera lens frames.  This can also be used for stereo pair cameras which have a left/right lens.</li>
<li>ros_camera_housing_bti - ROSCameraHousingBroadcastTInterface: This is functionally the same as the ros_bti interface except that the resulting calibrated transform is inverted before being pushed.  This is used for cameras since the calibration target points must be transformed into the camera’s frame of reference (T camera-&gt;world * T world-&gt;target) but the transform that is published is inverted (T world-&gt;camera).</li>
<li>ros_camera_housing_cti - ROSCameraHousingCalTInterface: This interface is used in conjunction with the mutable joint state publisher and allows for both pulling and pushing transforms.  The resulting calibrated transform is inverted before being pushed.  This is used for cameras since the calibration target points must be transformed into the camera’s frame of reference (T camera-&gt;world * T world-&gt;target) but the transform that is published is inverted (T world-&gt;camera).</li>
<li>ros_scti - ROSSimpleCalTInterface: This interface is used in conjunction with the mutable joint state publisher and allows for both pulling and pushing transforms.  For use with targets.  Pushes the un-inverted transform.</li>
<li>ros_camera_scti - ROSSimpleCameraCalTInterface: This interface is used in conjunction with the mutable joint state publisher and allows for both pulling and pushing transforms.  For use with cameras.  The resulting calibrated transform is inverted before being pushed.  This is used for cameras since the calibration target points must be transformed into the camera’s frame of reference (T camera-&gt;world * T world-&gt;target) but the transform that is published is inverted (T world-&gt;camera).</li>
<li>ros_default_ti - DefaultTransformInterface:</li>
</ul>
</div></blockquote>
<p>Here is a summary of the different transform interfaces and how they work:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="13%" />
<col width="18%" />
<col width="13%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">Pulls
Transform</th>
<th class="head">Pushes
Transform</th>
<th class="head">Transform
Offset</th>
<th class="head">Store Location</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ros_lti</td>
<td>yes</td>
<td>no</td>
<td>no offset</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>ros_bti</td>
<td>?</td>
<td>yes</td>
<td>none</td>
<td>save to launch file</td>
</tr>
<tr class="row-even"><td>ros_camera_lti</td>
<td>yes</td>
<td>no</td>
<td>no</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>ros_camera_bti</td>
<td>&#160;</td>
<td>yes, inverted</td>
<td>no</td>
<td>save to launch file</td>
</tr>
<tr class="row-even"><td>ros_camera_housing_lti</td>
<td>a</td>
<td>no</td>
<td>yes</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>ros_camera_housing_bti</td>
<td>a</td>
<td>yes, inverted</td>
<td>yes</td>
<td>save to launch file</td>
</tr>
<tr class="row-even"><td>ros_camera_housing_cti</td>
<td>a</td>
<td>a</td>
<td>yes</td>
<td>mutable joint states</td>
</tr>
<tr class="row-odd"><td>ros_scti</td>
<td>a</td>
<td>a</td>
<td>no</td>
<td>mutable joint states</td>
</tr>
<tr class="row-even"><td>ros_camera_scti</td>
<td>a</td>
<td>a</td>
<td>no</td>
<td>mutable joint states</td>
</tr>
<tr class="row-odd"><td>ros_default_ti</td>
<td>a</td>
<td>a</td>
<td>no</td>
<td>a</td>
</tr>
</tbody>
</table>
</div>


            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="trigger_type.html" class="btn btn-neutral float-right" title="Trigger Types" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="caljob_files.html" class="btn btn-neutral" title="Calibration Job Files" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div class="footer-override">
    <a href="http://rosindustrial.org/ric">
      <img src="_static/footer.jpg"/>
    </a>
  </div>

  <div role="contentinfo">
    <p>
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>
        </div>
      </div>

    </section>

  </div>
  <script>
  var pre = document.getElementsByTagName('pre');
  for (var i = 0; i < pre.length; i++) {
    var button = document.createElement('button');
    button.className = 'btn-copyboard fa fa-copy btn';
    pre[i].before(button);
  }

  var clipboard = new Clipboard('.btn-copyboard', {
    target: function(trigger) {return trigger.nextElementSibling;}
  });

  function showSuccess(elem){elem.setAttribute('class','btn-copyboard fa fa-check btn');}
  function sleep (time) {
    return new Promise((resolve) => setTimeout(resolve, time));
  }
  clipboard.on('success',function(e){
    showSuccess(e.trigger);
    sleep(350).then(() => {e.clearSelection();
      e.trigger.setAttribute('class','btn-copyboard fa fa-copy btn');})
  });
  </script>

  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>